--CREATE TABLESPACE FOR PATIENT
CREATE TABLESPACE P058TSPT IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE PATIENT TABLE
CREATE TABLE PATIENT
(PT_ID INTEGER NOT NULL,
PT_FNAME VARCHAR(25) NOT NULL,
PT_LNAME VARCHAR(25) NOT NULL,
PT_STREET VARCHAR(100) NOT NULL,
PT_CITY VARCHAR(50) NOT NULL,
PT_COUNTY VARCHAR(50) NOT NULL,
PT_STATE VARCHAR(25) NOT NULL,
PT_ZIP CHAR(5) NOT NULL,
PT_PHONE CHAR(12) NOT NULL,
PT_DOB DATE NOT NULL,
PT_SEX CHAR(1) NOT NULL,
PT_U19 SMALLINT NOT NULL WITH DEFAULT 0, 
PT_MAIDEN VARCHAR(25) NOT NULL,
PT_DOCTOR VARCHAR(100) NOT NULL,
PT_DOCADD VARCHAR(200) NOT NULL,
PT_EMCON VARCHAR(50) NOT NULL,
PT_EMCONP CHAR(12) NOT NULL,
PT_ELIGIBLE SMALLINT NOT NULL WITH DEFAULT 0, 
PT_GROUP VARCHAR(7) NOT NULL,
PRIMARY KEY (PT_ID))
IN P058DB.P058TSPT;
COMMIT;

--CREATE PK INDEX ON PATIENT
CREATE UNIQUE INDEX UNTP058.X1PT
ON UNTP058.PATIENT (PT_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO PATIENT VALUES(
12345,'FAYE','RABBI','123 LOMBARDY DR', 
'WYLIE', 'COLLIN', 'TEXAS', '75098', '432-542-9462', '1996-12-21', 
'F', 'RAHMAN', 'DEREK SHEPHERD', '123 GREYS ANATOMY LANE, SEATTLE WA 01234', 
'MEREDITH GREY', '786-770-4532', 'TRIAL'
);



--CREATE TABLESPACE FOR EMPLOYEE
CREATE TABLESPACE P058TSEM IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE EMPLOYEE TABLE
CREATE TABLE EMPLOYEE
(EM_ID INTEGER NOT NULL,
EM_FNAME VARCHAR(25) NOT NULL,
EM_LNAME VARCHAR(25) NOT NULL,
EM_TYPE VARCHAR(10) NOT NULL,
EM_STREET VARCHAR(100) NOT NULL,
EM_CITY VARCHAR(50) NOT NULL,
EM_STATE VARCHAR(25) NOT NULL,
EM_PHONE CHAR(12) NOT NULL,
PRIMARY KEY (EM_ID)),
IN P058DB.P058TSEM;
COMMIT;

--CREATE PK INDEX ON EMPLOYEE
CREATE UNIQUE INDEX UNTP058.X1EM
ON UNTP058.EMPLOYEE (EM_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO EMPLOYEE VALUES(
678910,'CHRISTINA','YANG','NURSE', 
'456 LOMBARDY DR', 'CARROLLTON', 'TEXAS', '774-876-8820'
);

INSERT INTO EMPLOYEE VALUES(
313235,'DEREK','SHEPHERD','DOCTOR', 
'553 LOMBARDY DR', 'CARROLLTON', 'TEXAS', '817-402-8868'
);




--CREATE TABLESPACE FOR DOCTOR
CREATE TABLESPACE P058TSDO IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE DOCTOR TABLE
CREATE TABLE DOCTOR
(EM_ID INTEGER NOT NULL,
DO_DEA VARCHAR(10) NOT NULL,
DO_DEAEX DATE NOT NULL,
PRIMARY KEY (EM_ID),
FOREIGN KEY (EM_ID) REFERENCES EMPLOYEE)
IN P058DB.P058TSDO;
COMMIT;

--CREATE PK INDEX ON DOCTOR
CREATE UNIQUE INDEX UNTP058.X1DO
ON UNTP058.DOCTOR (EM_ID)
USING STOGROUP UNTDISK;
COMMIT;

--CREATE FK INDEX ON DOCTOR
CREATE UNIQUE INDEX UNTP058.X2DO
ON UNTP058.DOCTOR (EM_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO DOCTOR VALUES (
313235,'ES7509820','2025-04-20'
);



--CREATE TABLESPACE FOR NURSE
CREATE TABLESPACE P058TSNU IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE NURSE TABLE
CREATE TABLE NURSE
(EM_ID INTEGER NOT NULL,
NU_LIC INTEGER NOT NULL,
NU_LEVEL VARCHAR(3),
PRIMARY KEY (EM_ID),
FOREIGN KEY (EM_ID) REFERENCES EMPLOYEE)
IN P058DB.P058TSNU;
COMMIT;

--CREATE PK INDEX ON NURSE
CREATE UNIQUE INDEX UNTP058.X1NU
ON UNTP058.NURSE (EM_ID)
USING STOGROUP UNTDISK;
COMMIT;

--CREATE FK INDEX ON NURSE
CREATE UNIQUE INDEX UNTP058.X2NU
ON UNTP058.NURSE (EM_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO NURSE VALUES(
678910, 420420, 'RN'
);



CREATE TABLESPACE P058TSVI IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE VISIT TABLE
CREATE TABLE VISIT
(VI_ID INTEGER NOT NULL,
DO_ID INTEGER NOT NULL,
NU_ID INTEGER NOT NULL,
PT_ID INTEGER NOT NULL,
VI_PULSE INTEGER NOT NULL,
VI_BP VARCHAR(6) NOT NULL,
VI_WT INTEGER NOT NULL,
VI_CONSENT SMALLINT NOT NULL WITH DEFAULT 0,
VI_DATE DATE NOT NULL,
VI_TIME TIME NOT NULL,
VI_SITE VARCHAR(25) NOT NULL,
VI_MAN VARCHAR(25) NOT NULL,
VI_LOT VARCHAR(25) NOT NULL,
VI_RESULT VARCHAR(200) NOT NULL,
PRIMARY KEY (VI_ID),
FOREIGN KEY (DO_ID) REFERENCES DOCTOR,
FOREIGN KEY (NU_ID) REFERENCES NURSE,
FOREIGN KEY (PT_ID) REFERENCES PATIENT)
IN P058DB.P058TSVI;
COMMIT;

--CREATE PK INDEX ON VISIT
CREATE UNIQUE INDEX UNTP058.X1VI
ON UNTP058.VISIT (VI_ID)
USING STOGROUP UNTDISK;
COMMIT;

--CREATE FK INDEX ON VISIT
CREATE INDEX UNTP058.X2VI
ON UNTP058.VISIT (DO_ID, NU_ID, PT_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO VISIT VALUES(
232425, 313235, 678910, 012345, 
67, '120/80', 140, 1, '2021-04-21', '04:30:31', 'LEFT ARM', '75098750', '23', 
'NO ADVERSE REACTION'
);



--CREATE TABLESPACE FOR PTALLERGY
CREATE TABLESPACE P058TSAL IN P058DB USING STOGROUP UNTDISK;
COMMIT;

--CREATE PTALLERGY TABLE
CREATE TABLE PTALLERGY
(PA_ID INTEGER NOT NULL,
PT_ID INTEGER NOT NULL,
PT_ALLERGY VARCHAR(200) NOT NULL,
PRIMARY KEY (PA_ID),
FOREIGN KEY (PT_ID) REFERENCES PATIENT)
IN P058DB.P058TSAL;
COMMIT;

--CREATE PK INDEX ON PTALLERGY
CREATE UNIQUE INDEX UNTP058.X1AL
ON UNTP058.PTALLERGY (PA_ID)
USING STOGROUP UNTDISK;
COMMIT;

--CREATE FK INDEX ON PTALLERGY
CREATE INDEX UNTP058.X2AL
ON UNTP058.PTALLERGY (PT_ID)
USING STOGROUP UNTDISK;
COMMIT;

--INSERT A LINE OF DATA
INSERT INTO PTALLERGY VALUES(
54, 12345, 'PEANUT'
);





 


